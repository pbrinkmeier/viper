package edu.kit.ipd.pp.viper.controller;

import static org.junit.Assert.assertFalse;
import static org.junit.Assert.assertTrue;

import java.io.File;

import org.junit.Test;

public class CommandOpenTest extends ControllerTest {
    /**
     * Tests the reading routine.
     */
    @Test
    public void readingTest() {
        CommandOpen c = this.gui.getCommandOpen();
        this.gui.getConsolePanel().clearAll();
        final String text = c.getFileText(new File(this.getClass().getResource("/inputTestFile.txt").getPath()));

        assertTrue(text.trim().equals("02340520350130523050235"));
    }

    /**
     * Tests whether the UI gets updated properly.
     */
    @Test
    public void uiUpdateTest() {
        File file = new File("");
        this.gui.getCommandOpen().updateUI(file);
        assertTrue(this.gui.getEditorPanel().hasFileReference());
        assertFalse(this.gui.getEditorPanel().hasChanged());
        file.delete();
    }
}
